From a2f84f23d064e98f423aa0d050ff98838cf0a1b1 Mon Sep 17 00:00:00 2001
From: Cristy <urban-warrior@imagemagick.org>
Date: Sat, 10 Aug 2019 07:25:32 -0400
Subject: [PATCH] https://github.com/ImageMagick/ImageMagick/issues/1614

---
 coders/pnm.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/coders/pnm.c
+++ b/coders/pnm.c
@@ -1762,7 +1762,7 @@ static MagickBooleanType WritePNMImage(c
           {
             *q++=(unsigned char) (GetPixelLuma(image,p) >= (QuantumRange/2.0) ?
               '0' : '1');
-            if ((q-pixels+1) >= (ssize_t) sizeof(pixels))
+            if ((q-pixels+2) >= (ssize_t) sizeof(pixels))
               {
                 *q++='\n';
                 (void) WriteBlob(image,q-pixels,pixels);
