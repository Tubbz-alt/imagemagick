From 27b1c74979ac473a430e266ff6c4b645664bc805 Mon Sep 17 00:00:00 2001
From: Cristy <mikayla-grace@urban-warrior.org>
Date: Sat, 23 Mar 2019 14:05:29 -0400
Subject: [PATCH] https://github.com/ImageMagick/ImageMagick/issues/1522

---
 magick/image.c | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

diff --git a/magick/image.c b/magick/image.c
index a295bc2a5..721925aef 100644
--- a/magick/image.c
+++ b/magick/image.c
@@ -252,10 +252,11 @@ MagickExport Image *AcquireImage(const ImageInfo *image_info)
         geometry_info;
 
       flags=ParseGeometry(image_info->density,&geometry_info);
-      image->x_resolution=geometry_info.rho;
-      image->y_resolution=geometry_info.sigma;
-      if ((flags & SigmaValue) == 0)
-        image->y_resolution=image->x_resolution;
+      if ((flags & RhoValue) != 0)
+        image->x_resolution=geometry_info.rho;
+      image->y_resolution=image->x_resolution;
+      if ((flags & SigmaValue) != 0)
+        image->y_resolution=geometry_info.sigma;
     }
   if (image_info->page != (char *) NULL)
     {
