From 80deac0626d2d69e1da836d7d893db1e022b10fc Mon Sep 17 00:00:00 2001
From: Cristy <mikayla-grace@urban-warrior.org>
Date: Tue, 26 Mar 2019 16:36:30 -0400
Subject: [PATCH] https://github.com/ImageMagick/ImageMagick/issues/1528

---
 coders/dot.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/coders/dot.c b/coders/dot.c
index 837023d44..094866e16 100644
--- a/coders/dot.c
+++ b/coders/dot.c
@@ -130,7 +130,10 @@ static Image *ReadDOTImage(const ImageInfo *image_info,ExceptionInfo *exception)
   image=AcquireImage(image_info);
   status=OpenBlob(image_info,image,ReadBinaryBlobMode,exception);
   if (status == MagickFalse)
-    return((Image *) NULL);
+    {
+      image=DestroyImageList(image);
+      return((Image *) NULL);
+    }
   read_info=CloneImageInfo(image_info);
   SetImageInfoBlob(read_info,(void *) NULL,0);
   (void) CopyMagickString(read_info->magick,"SVG",MaxTextExtent);
