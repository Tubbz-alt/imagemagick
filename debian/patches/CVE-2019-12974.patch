From b4391bdd60df0a77e97a6ef1674f2ffef0e19e24 Mon Sep 17 00:00:00 2001
From: Cristy <mikayla-grace@urban-warrior.org>
Date: Sat, 23 Mar 2019 16:19:07 -0400
Subject: [PATCH] https://github.com/ImageMagick/ImageMagick/issues/1515

---
 coders/pango.c | 7 +++++--
 coders/vid.c   | 7 +++++--
 2 files changed, 10 insertions(+), 4 deletions(-)

--- a/coders/pango.c
+++ b/coders/pango.c
@@ -196,8 +196,11 @@ static Image *ReadPANGOImage(const Image
       property=InterpretImageProperties(image_info,image,option+6);
     else
       property=InterpretImageProperties(image_info,image,option);
-  (void) SetImageProperty(image,"caption",property);
-  property=DestroyString(property);
+  if (property != (char *) NULL)
+    {
+      (void) SetImageProperty(image,"caption",property);
+      property=DestroyString(property);
+    }
   caption=ConstantString(GetImageProperty(image,"caption"));
   /*
     Get context.
--- a/coders/vid.c
+++ b/coders/vid.c
@@ -176,8 +176,11 @@ static Image *ReadVIDImage(const ImageIn
     if (next_image == (Image *) NULL)
       break;
     label=InterpretImageProperties(image_info,next_image,DefaultTileLabel);
-    (void) SetImageProperty(next_image,"label",label);
-    label=DestroyString(label);
+    if (label != (char *) NULL)
+      {
+        (void) SetImageProperty(next_image,"label",label);
+        label=DestroyString(label);
+      }
     if (image_info->debug != MagickFalse)
       (void) LogMagickEvent(CoderEvent,GetMagickModule(),
         "geometry: %.20gx%.20g",(double) next_image->columns,(double)
